<section class="edit-mypage">
  <%= form_with(model: @user, local: true) do |f| %>
    <h2>プロフィールの編集</h2>
    <div class="form-group">
      <%= f.label :name, '名前', class: 'box' %>
      <%= f.text_field :name %>
    </div>
    <div class="form-group">
      <%= f.label :email, 'メールアドレス', class: 'box' %>
      <%= f.email_field :email %>
    </div>
    <div class="form-group">
      <%= f.label :password, 'パスワード', class: 'box' %>
      <%= f.password_field :password %> 
    </div>
    <div class="form-group intro">
      <%= f.label :introduce, '自己紹介', class: 'introduce-box ' %>
      <%= f.text_area :introduce %>
    </div>
    
    <div class="edit-pro">
      <%= f.label :image, 'プロフィール画像', class: 'bo box' %>
    <div class="edit-photo">
      <%= image_tag @user.image.url, id: "user_img_prev" if @user.image? %>
      <label class="upload-label">
        写真を選択
        <%= f.file_field :image, :id => 'user_img' %>
      </label>
      <script type="text/javascript">
        $(function() {
            function readURL(input) {
              if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                  $('#user_img_prev').attr('src', e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
                }
              }
              $("#user_img").change(function() {
                readURL(this);
              });
            });
        </script>
      </div>
      </div>
      <div id="submit">
        <%= f.submit '内容を変更する', class: 'btn btn-primary btn-block' %>
      </div>
  <% end %>
</section>